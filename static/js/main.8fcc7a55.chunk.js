(this.webpackJsonpmypuzzle=this.webpackJsonpmypuzzle||[]).push([[0],{14:function(e,t,a){},8:function(e,t,a){e.exports=a(9)},9:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(3),s=a(1),r=a(5),o=a(4),m=a(0),l=a.n(m),c=a(7),u=a.n(c);a(14);function h(e){return l.a.createElement("div",{className:"InputText"},l.a.createElement("label",{className:"InpNumLab"},e.textForLabel),l.a.createElement("input",{type:"text",name:"url",value:e.imageURL,onChange:e.OnChangeimageURL}))}function d(e){return l.a.createElement("div",{className:"InputNumber"},l.a.createElement("label",{className:"InpNumLab"},e.textForLabel),l.a.createElement("input",{type:"number",value:e.rowsColumns}),l.a.createElement("button",{className:"PlusButton",name:e.name,onClick:e.onClickPlus},"+"),l.a.createElement("button",{className:"MinusButton",name:e.name,onClick:e.onClickMinus},"-"))}function g(e){return l.a.createElement("div",{className:"InputButton"},l.a.createElement("button",{id:"start",className:"Button",onClick:function(){return e.onClick()}},"Start Game"),l.a.createElement("button",{id:"playAgain",className:"Buttonr",onClick:function(){return e.playAgain()}},l.a.createElement("img",{className:"icon",src:"https://htmlacademy.ru/assets/icons/reload-6x-white.png"}),"Play Again"),l.a.createElement("button",{id:"hacker",className:"Button",onClick:function(){return e.hackerMan()}},"Solve Puzzle"))}function f(e){var t=e.status?"UserSpace":"UserSpaceHidden";return l.a.createElement("div",{id:e.id,className:t},l.a.createElement(h,{imageURL:e.imageURL,textForLabel:"Image URL:",OnChangeimageURL:e.OnChangeimageURL}),l.a.createElement(d,{rowsColumns:e.rows,onClickPlus:e.onClickPlus,onClickMinus:e.onClickMinus,name:"numberOfRows",textForLabel:"Number of rows: "}),l.a.createElement(d,{rowsColumns:e.columns,onClickPlus:e.onClickPlus,onClickMinus:e.onClickMinus,name:"numberOfColumns",textForLabel:"Number of columns: "}),l.a.createElement(g,{onClick:e.onClick,hackerMan:e.hackerMan,playAgain:e.playAgain}))}function b(e){return l.a.createElement("div",{id:"navbar"},l.a.createElement("a",{className:"Title"},"MyPuzzle"),l.a.createElement("a",{onClick:function(){e.IconMenuClick()},className:"IconMenu"},l.a.createElement("i",{className:"fa fa-bars"})),l.a.createElement(C,{GameIsStarted:e.GameIsStarted,gameIsOver:e.gameIsOver,callbackFunction:e.callbackFunction}))}function v(e){return e.visible?l.a.createElement("div",{id:"CongratMessage",style:{opacity:"1",transition:"opacity 5s"}},l.a.createElement("a",null,"Awesome! You have finished the game in ",e.finalTime)):l.a.createElement("div",{id:"CongratMessage",style:{opacity:"0"}},l.a.createElement("a",null,"Awesome! You have finished the game"))}function y(e){var t=document.getElementById("sourceImage"),a=document.getElementById("canvas");a.width=t.naturalWidth,a.height=t.naturalHeight;var n=t.naturalWidth/e.numberOfColumns,i=t.naturalHeight/e.numberOfRows,s=e.currentColumn*n-n,r=e.currentRow*i-i;a.getContext("2d").drawImage(t,s,r,n,i,0,0,t.naturalWidth,t.naturalHeight);var o=a.toDataURL(),m=(e.currentRow-1)*e.numberOfColumns+e.currentColumn,c=l.a.createElement("img",{src:o,className:"img",style:e.styleForImg});return m===e.numberOfColumns*e.numberOfRows?l.a.createElement("div",{ref:e.RefForImgDiv,className:"imgDiv",style:e.imgTracker[m-1].myStyle},c):l.a.createElement("div",{className:"imgDiv",onClick:function(){return e.onClick(m-1)},style:e.imgTracker[m-1].myStyle},c)}function k(e){for(var t=[],a=0;a<e.numberOfColumns;a++)t.push(l.a.createElement(y,{numberOfRows:e.numberOfRows,numberOfColumns:e.numberOfColumns,currentRow:e.currentRow,currentColumn:a+1,onClick:e.onClick,onKeyPress:e.onKeyPress,imgTracker:e.imgTracker,styleForImg:e.styleForImg,RefForImgDiv:e.RefForImgDiv}));return l.a.createElement("div",{style:e.styleForRows},t)}function p(e){if(e.firstTimeRending)return l.a.createElement("div",{className:"Board"});for(var t=[],a=0;a<e.numberOfRows;a++)t.push(l.a.createElement(k,{numberOfRows:e.numberOfRows,numberOfColumns:e.numberOfColumns,currentRow:a+1,onClick:e.onClick,onKeyPress:e.onKeyPress,imgTracker:e.imgTracker,styleForRows:e.styleForRows,styleForImg:e.styleForImg,RefForImgDiv:e.RefForImgDiv}));return l.a.createElement("div",{className:"Board"},t)}var O=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={numberOfRows:3,numberOfColumns:3,imgTracker:[],EmptySquare:{row:"",column:""},styleForRows:{width:"100%",height:"33.333%"},imgDivWidth:"33.3333%",styleForImg:{},startGame:!1,firstTimeRending:!0,numberOfRowsForUserEdit:3,numberOfColumnsForUserEdit:3,UserSpaceDiv:!0,gameIsOver:!1,GameIsStarted:!1,finalTime:"",anObject:{},imgDivDim:{}},i.imgDivRef=l.a.createRef(),i.handleClick=i.handleClick.bind(Object(s.a)(i)),i.handleKeyboard=i.handleKeyboard.bind(Object(s.a)(i)),i.mixImages=i.mixImages.bind(Object(s.a)(i)),i.CalcWidthHeight=i.CalcWidthHeight.bind(Object(s.a)(i)),i.hackerMan=i.hackerMan.bind(Object(s.a)(i)),i.HandlePlusButton=i.HandlePlusButton.bind(Object(s.a)(i)),i.HandleMinusButton=i.HandleMinusButton.bind(Object(s.a)(i)),i.playAgain=i.playAgain.bind(Object(s.a)(i)),i.handleIconMenuClick=i.handleIconMenuClick.bind(Object(s.a)(i)),i.callbackFunction=i.callbackFunction.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"hackerMan",value:function(){for(var e=this.state.imgTracker,t=this.state.EmptySquare,a=(this.state.imgDivDim.width,0);a<e.length-2;a++)e[a].top=0,e[a].left=0,e[a].myStyle={top:"0px",left:"0px",width:this.state.anObject.columWidth};e[e.length-2].top=0,e[e.length-2].left=this.state.imgDivDim.width,e[e.length-2].myStyle={top:"0px",left:this.state.imgDivDim.width+"px",width:this.state.anObject.columWidth},e[e.length-2].row=this.state.numberOfRows,e[e.length-2].column=this.state.numberOfColumns,t.row=this.state.numberOfRows,t.column=this.state.numberOfColumns-1,this.setState({imgTracker:e,EmptySquare:t,styleForRows:{width:"100%",height:this.state.anObject.rowHeight}}),document.getElementById("hacker").disabled=!0}},{key:"CheckForXMoving",value:function(e){var t=this.state.imgTracker,a=this.state.EmptySquare.column-t[e].column,n="",i="";if(1==Math.abs(a)&&t[e].row==this.state.EmptySquare.row){t[e].left+=a*this.state.imgDivDim.width,n=t[e].left+"px",i=t[e].top+"px",t[e].myStyle={left:n,top:i,width:this.state.anObject.columWidth},t[e].column+=a;var s=this.state.EmptySquare;return s.column-=a,this.setState({imgTracker:t,EmptySquare:s}),this.checkIfGameIsOver(),!1}return!0}},{key:"CheckForYMoving",value:function(e){var t=this.state.imgTracker,a=this.state.EmptySquare.row-t[e].row,n="",i="";if(1==Math.abs(a)&&t[e].column==this.state.EmptySquare.column){t[e].top+=a*this.state.imgDivDim.height,n=t[e].top+"px",i=t[e].left+"px",t[e].myStyle={top:n,left:i,width:this.state.anObject.columWidth},t[e].row+=a;var s=this.state.EmptySquare;s.row-=a,this.setState({imgTracker:t,EmptySquare:s}),this.checkIfGameIsOver()}}},{key:"checkIfGameIsOver",value:function(){for(var e=this.state.imgTracker,t=this.state.EmptySquare,a=!0,n=0;n<e.length;n++)if(0!=e[n].top||0!=e[n].left){a=!1;break}if(a){t.row="",t.column="";for(var i=0;i<e.length;i++)e[i].myStyle={width:this.state.anObject.columWidth,outline:"2px solid hsl(0,0%,100%,0)",transition:"outline 5s, opacity 5s"};this.setState({imgTracker:e,EmptySquare:t,gameIsOver:!0})}}},{key:"handleKeyboard",value:function(e){var t=this.state.imgTracker,a=this.state.EmptySquare.row,n=this.state.EmptySquare.column,i="";"ArrowRight"===e.key?n>1&&(i=t.find((function(e){return e.row==a&&e.column+1==n})).pieceId,this.CheckForXMoving(i-1)):"ArrowLeft"===e.key?n<this.state.numberOfColumns&&(i=t.find((function(e){return e.row===a&&e.column-1===n})).pieceId,this.CheckForXMoving(i-1)):"ArrowUp"===e.key?(e.preventDefault(),a<this.state.numberOfRows&&(i=t.find((function(e){return e.column===n&&e.row-1===a})).pieceId,this.CheckForYMoving(i-1))):"ArrowDown"===e.key&&(e.preventDefault(),a>1&&(i=t.find((function(e){return e.column==n&&e.row+1==a})).pieceId,this.CheckForYMoving(i-1)))}},{key:"handleClick",value:function(e){this.CheckForXMoving(e)&&this.CheckForYMoving(e)}},{key:"mixImages",value:function(){for(var e,t,a,n,i,s,r,o,m=this.CalcImgDivDimens(),l=this.state.numberOfRows*this.state.numberOfColumns,c=[],u=this.state.imgTracker,h=0;h<l-1;h++)c.push(h);for(;c.length>=2;)n=c[e=Math.floor(Math.random()*c.length)],c.splice(e,1),i=c[e=Math.floor(Math.random()*c.length)],c.splice(e,1),s=u[n].row-u[i].row,r=u[n].column-u[i].column,o=u[n].row,u[n].row=u[i].row,u[i].row=o,o=u[n].column,u[n].column=u[i].column,u[i].column=o,u[n].top=-1*s*m.height,u[n].left=-1*r*m.width,t=u[n].top+"px",a=u[n].left+"px",u[n].myStyle={width:this.state.anObject.columWidth,top:t,left:a},u[i].top=s*m.height,u[i].left=r*m.width,t=u[i].top+"px",a=u[i].left+"px",u[i].myStyle={width:this.state.anObject.columWidth,top:t,left:a};var d=this.state.EmptySquare;d.row=this.state.numberOfRows,d.column=this.state.numberOfColumns,u[u.length-1].myStyle={opacity:"0",width:this.state.anObject.columWidth,zIndex:"-1"},this.setState({EmptySquare:d,imgTracker:u,styleForImg:{},UserSpaceDiv:!this.state.UserSpaceDiv,GameIsStarted:!0,imgDivDim:m}),document.removeEventListener("keydown",this.handleKeyboard),document.addEventListener("keydown",this.handleKeyboard),document.getElementById("start").disabled=!0,document.getElementById("hacker").disabled=!1}},{key:"CreateImageTracker",value:function(e,t){for(var a=this.CalcWidthHeight(e,t),n={pieceId:0,row:0,column:0,left:0,top:0,myStyle:{width:a.columWidth}},i=[],s=1;s<=e;s++){n.row=s;for(var r=1;r<=t;r++)n.pieceId+=1,n.column=r,i.push(Object.assign({},n))}this.setState({imgTracker:i,numberOfRows:e,numberOfColumns:t,styleForRows:{width:"100%",height:a.rowHeight},EmptySquare:{row:"",column:""},GameIsStarted:!1,gameIsOver:!1,anObject:a}),document.getElementById("start").disabled=!1,document.getElementById("hacker").disabled=!0}},{key:"HandlePlusButton",value:function(e){var t,a;"numberOfRows"===e.target.name?(t=this.state.numberOfRows+1,a=this.state.numberOfColumns,this.setState({numberOfRowsForUserEdit:t}),this.CreateImageTracker(t,a)):"numberOfColumns"===e.target.name&&(t=this.state.numberOfRows,a=this.state.numberOfColumns+1,this.setState({numberOfColumnsForUserEdit:a}),this.CreateImageTracker(t,a))}},{key:"HandleMinusButton",value:function(e){var t,a;"numberOfRows"===e.target.name?(t=this.state.numberOfRows-1,a=this.state.numberOfColumns,this.setState({numberOfRowsForUserEdit:t}),this.CreateImageTracker(t,a)):"numberOfColumns"===e.target.name&&(t=this.state.numberOfRows,a=this.state.numberOfColumns-1,this.setState({numberOfColumnsForUserEdit:a}),this.CreateImageTracker(t,a))}},{key:"CalcWidthHeight",value:function(e,t){var a={rowHeight:"",columWidth:""};return a.rowHeight=100/e+"%",a.columWidth=100/t+"%",a}},{key:"CalcImgDivDimens",value:function(){var e={width:"",height:""};return e.width=this.imgDivRef.current.clientWidth,e.height=this.imgDivRef.current.clientHeight,e}},{key:"playAgain",value:function(){this.CreateImageTracker(this.state.numberOfRows,this.state.numberOfColumns),setTimeout((function(){document.getElementById("playAgain").blur()}),1e3)}},{key:"handleIconMenuClick",value:function(){this.setState({UserSpaceDiv:!this.state.UserSpaceDiv})}},{key:"componentDidMount",value:function(){this.CreateImageTracker(this.state.numberOfRows,this.state.numberOfColumns),this.setState({firstTimeRending:!1})}},{key:"callbackFunction",value:function(e){this.setState({finalTime:e})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(b,{IconMenuClick:this.handleIconMenuClick,GameIsStarted:this.state.GameIsStarted,gameIsOver:this.state.gameIsOver,callbackFunction:this.callbackFunction}),l.a.createElement("div",{className:"GameDiv"},l.a.createElement(p,{numberOfRows:this.state.numberOfRows,numberOfColumns:this.state.numberOfColumns,onClick:this.handleClick,onKeyPress:this.handleKeyboard,imgTracker:this.state.imgTracker,styleForRows:this.state.styleForRows,styleForImg:this.state.styleForImg,firstTimeRending:this.state.firstTimeRending,RefForImgDiv:this.imgDivRef}),l.a.createElement(f,{imageURL:this.props.imageURL,OnChangeimageURL:this.props.OnChangeimageURL,rows:this.state.numberOfRowsForUserEdit,columns:this.state.numberOfColumnsForUserEdit,onClickPlus:this.HandlePlusButton,onClickMinus:this.HandleMinusButton,onClick:this.mixImages,hackerMan:this.hackerMan,playAgain:this.playAgain,id:"UserSpace",status:this.state.UserSpaceDiv})),this.state.gameIsOver?l.a.createElement(v,{visible:!0,finalTime:this.state.finalTime}):l.a.createElement(v,{visible:!1}))}}]),a}(l.a.Component);function w(e){return l.a.createElement("div",null,l.a.createElement("img",{ref:e.RefForSImage,src:e.imageURL,id:"sourceImage",width:"50",height:"50",crossorigin:"anonymous",onLoad:e.onLoad,onError:e.onError}),l.a.createElement("canvas",{id:"canvas"}))}var C=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={time:{minutes:0,seconds:0}},i}return Object(i.a)(a,[{key:"tick",value:function(){this.props.GameIsStarted&&!this.props.gameIsOver?this.setState({time:{minutes:this.state.time.minutes+1*parseInt((this.state.time.seconds+1)/60),seconds:(this.state.time.seconds+1)%60}}):this.props.GameIsStarted&&this.props.gameIsOver?this.props.callbackFunction(this.state.time.minutes+" minutes and "+this.state.time.seconds+" seconds"):this.props.GameIsStarted||this.setState({time:{minutes:0,seconds:0}})}},{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){return e.tick()}),1e3)}},{key:"render",value:function(){return l.a.createElement("div",{id:"timeClock"},l.a.createElement("a",{className:"timeClock"},("0"+this.state.time.minutes).slice(-2),":",("0"+this.state.time.seconds).slice(-2)))}}]),a}(l.a.Component),I=function(e){Object(r.a)(a,e);var t=Object(o.a)(a);function a(e){var i;return Object(n.a)(this,a),(i=t.call(this,e)).state={imageURL:"https://www.success.com/wp-content/uploads/2019/12/How-to-Align-Your-Career-With-Your-Personal-Definition-of-Success.jpg",imageIsLoaded:!1,RendAgain:!1,RendOnError:!1},i.RefForSImage=l.a.createRef(),i.OnChangeimageURL=i.OnChangeimageURL.bind(Object(s.a)(i)),i.RendAgainImageIsLoaded=i.RendAgainImageIsLoaded.bind(Object(s.a)(i)),i.RendAgainImageLoadError=i.RendAgainImageLoadError.bind(Object(s.a)(i)),i}return Object(i.a)(a,[{key:"RendAgainImageIsLoaded",value:function(){this.setState({RendAgain:!0})}},{key:"RendAgainImageLoadError",value:function(){this.setState({RendAgain:!this.state.RendAgain})}},{key:"OnChangeimageURL",value:function(e){this.setState({imageURL:e.target.value})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(O,{imageURL:this.state.imageURL,OnChangeimageURL:this.OnChangeimageURL}),l.a.createElement(w,{imageURL:this.state.imageURL,onLoad:this.RendAgainImageIsLoaded,onError:this.RendAgainImageLoadError}))}}]),a}(l.a.Component);u.a.render(l.a.createElement(I,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.8fcc7a55.chunk.js.map